<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªåŠ¨åŒ–åŸºç¡€çŸ¥è¯†ç›®å½• | æˆ‘çš„çŸ¥è¯†åº“</title>
    <link rel="stylesheet" href="../../../style.css">
    <style>
        /* äºŒçº§ç›®å½•ç‰¹æœ‰æ ·å¼ */
        .subdirectory-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .directory-header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #3b82f6;
        }

        .directory-title {
            font-size: 2.2rem;
            color: white;
            margin-bottom: 15px;
        }

        .directory-description {
            color: rgba(255, 255, 255, 0.7);
            max-width: 600px;
            margin: 0 auto;
        }

        /* æ–‡ç« ç½‘æ ¼å¸ƒå±€ */
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .article-card {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-decoration: none;
            display: block;
            color: inherit;
        }

            .article-card:hover {
                transform: translateY(-5px);
                background: rgba(30, 41, 59, 0.9);
                border-color: #3b82f6;
                box-shadow: 0 10px 25px rgba(59, 130, 246, 0.2);
            }

        .article-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .article-card h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: white;
        }

        .article-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            margin-top: 15px;
        }

        /* ç®¡ç†åŒºåŸŸ */
        .management-section {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            padding: 30px;
            margin-top: 50px;
            border-left: 4px solid #10b981;
        }

        .management-title {
            color: #10b981;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .add-article-form {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .form-input {
            flex: 1;
            min-width: 200px;
            padding: 12px 15px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
        }

        .add-btn {
            padding: 12px 25px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

            .add-btn:hover {
                background: #0da271;
                transform: translateY(-2px);
            }

        /* å¯¼èˆªæŒ‰é’® */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 25px;
            background: rgba(59, 130, 246, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

            .nav-btn:hover {
                background: rgba(59, 130, 246, 0.4);
            }

        /* ç©ºçŠ¶æ€æç¤º */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.5);
        }

            .empty-state i {
                font-size: 3rem;
                margin-bottom: 20px;
                color: #6b7280;
            }

        @media (max-width: 768px) {
            .articles-grid {
                grid-template-columns: 1fr;
            }

            .add-article-form {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯å±‚ -->
    <div class="background-layer"></div>
    <div class="background-image"></div>
    <div class="background-overlay"></div>

    <!-- å·¦ä¾§è¾¹æ ï¼ˆç®€åŒ–ç‰ˆï¼‰ -->
    <aside class="sidebar">
        <div class="avatar-container">
            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                 alt="ä¸ªäººå¤´åƒ" class="avatar">
        </div>
        <div class="user-info">
            <h1 class="name">è‡ªåŠ¨åŒ–çŸ¥è¯†åº“</h1>
            <p class="bio">åŸºç¡€çŸ¥è¯†åˆ†ç±»ç›®å½•</p>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item">
                <a href="../../../index.html" class="menu-link">
                    <i class="fas fa-home"></i>
                    <span>è¿”å›ä¸»ç›®å½•</span>
                </a>
            </li>
        </ul>
    </aside>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <div class="subdirectory-container">
            <!-- ç›®å½•å¤´éƒ¨ -->
            <header class="directory-header">
                <h1 class="directory-title">ğŸ“š è‡ªåŠ¨åŒ–åŸºç¡€çŸ¥è¯†åº“</h1>
                <p class="directory-description">
                    è¿™é‡Œæ˜¯è‡ªåŠ¨åŒ–åŸºç¡€çŸ¥è¯†çš„é›†åˆï¼ŒåŒ…å«PLCç¼–ç¨‹ã€ä¼ æ„Ÿå™¨åŸç†ã€ç”µæœºæ§åˆ¶ç­‰æ ¸å¿ƒå†…å®¹ã€‚
                    ä½ å¯ä»¥è‡ªç”±æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹è¿™é‡Œçš„æ–‡ç« ã€‚
                </p>
            </header>

            <!-- æ–‡ç« ç½‘æ ¼ -->
            <div class="articles-grid" id="articles-container">
                <!-- æ–‡ç« å¡ç‰‡ä¼šé€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                <!-- åˆå§‹ç¤ºä¾‹æ–‡ç«  -->
                <a href="plc-basics.html" class="article-card">
                    <div class="article-icon">
                        <i class="fas fa-microchip"></i>
                    </div>
                    <h3>PLCç¼–ç¨‹å…¥é—¨æŒ‡å—</h3>
                    <p>ä»é›¶å¼€å§‹å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹ï¼ŒæŒæ¡å·¥ä¸šè‡ªåŠ¨åŒ–æ§åˆ¶çš„æ ¸å¿ƒæŠ€èƒ½ã€‚</p>
                    <div class="article-meta">
                        <span>ğŸ“– é˜…è¯»æ—¶é—´: 15åˆ†é’Ÿ</span>
                        <span>ğŸ”„ æœ€åæ›´æ–°: 2024.01.20</span>
                    </div>
                </a>

                <a href="sensor-principles.html" class="article-card">
                    <div class="article-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>ä¼ æ„Ÿå™¨å·¥ä½œåŸç†è¯¦è§£</h3>
                    <p>æ·±å…¥è§£æå„ç±»å·¥ä¸šä¼ æ„Ÿå™¨çš„åŸç†ã€é€‰å‹å’Œåº”ç”¨åœºæ™¯ã€‚</p>
                    <div class="article-meta">
                        <span>ğŸ“– é˜…è¯»æ—¶é—´: 12åˆ†é’Ÿ</span>
                        <span>ğŸ”„ æœ€åæ›´æ–°: 2024.01.18</span>
                    </div>
                </a>

                <a href="motor-control.html" class="article-card">
                    <div class="article-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>ç”µæœºæ§åˆ¶åŸºç¡€</h3>
                    <p>å­¦ä¹ ç›´æµç”µæœºã€æ­¥è¿›ç”µæœºã€ä¼ºæœç”µæœºçš„æ§åˆ¶åŸç†å’Œæ–¹æ³•ã€‚</p>
                    <div class="article-meta">
                        <span>ğŸ“– é˜…è¯»æ—¶é—´: 18åˆ†é’Ÿ</span>
                        <span>ğŸ”„ æœ€åæ›´æ–°: 2024.01.15</span>
                    </div>
                </a>
            </div>

            <!-- ç©ºçŠ¶æ€æç¤ºï¼ˆå½“æ²¡æœ‰æ–‡ç« æ—¶æ˜¾ç¤ºï¼‰ -->
            <div class="empty-state" id="empty-state" style="display: none;">
                <i class="fas fa-folder-open"></i>
                <h3>ç›®å½•ç©ºç©ºå¦‚ä¹Ÿ</h3>
                <p>è¿˜æ²¡æœ‰æ·»åŠ ä»»ä½•æ–‡ç« ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹åˆ›å»ºå§ï¼</p>
            </div>

            <!-- æ–‡ç« ç®¡ç†åŒºåŸŸ -->
            <section class="management-section">
                <h2 class="management-title">
                    <i class="fas fa-tools"></i> æ–‡ç« ç®¡ç†
                </h2>

                <div class="add-article-form" id="add-form">
                    <input type="text"
                           class="form-input"
                           id="article-title"
                           placeholder="è¾“å…¥æ–‡ç« æ ‡é¢˜ï¼ˆä¾‹å¦‚ï¼šPIDæ§åˆ¶åŸç†ï¼‰"
                           required>

                    <input type="text"
                           class="form-input"
                           id="article-desc"
                           placeholder="è¾“å…¥æ–‡ç« æè¿°"
                           required>

                    <select class="form-input" id="article-icon">
                        <option value="fa-microchip">ğŸ’» èŠ¯ç‰‡å›¾æ ‡</option>
                        <option value="fa-cogs">âš™ï¸ é½¿è½®å›¾æ ‡</option>
                        <option value="fa-bolt">âš¡ é—ªç”µå›¾æ ‡</option>
                        <option value="fa-robot">ğŸ¤– æœºå™¨äººå›¾æ ‡</option>
                        <option value="fa-brain">ğŸ§  å¤§è„‘å›¾æ ‡</option>
                        <option value="fa-book">ğŸ“š ä¹¦ç±å›¾æ ‡</option>
                    </select>

                    <button class="add-btn" id="add-article-btn">
                        <i class="fas fa-plus"></i> æ·»åŠ æ–°æ–‡ç« 
                    </button>
                </div>

                <div style="margin-top: 20px; font-size: 0.9rem; color: rgba(255, 255, 255, 0.5);">
                    <p>ğŸ’¡ æç¤ºï¼šæ·»åŠ çš„æ–‡ç« ä¼šä¿å­˜åœ¨æœ¬ç›®å½•ä¸­ï¼Œä½ å¯ä»¥éšæ—¶ç¼–è¾‘æˆ–åˆ é™¤ã€‚</p>
                </div>
            </section>

            <!-- å¯¼èˆªæŒ‰é’® -->
            <div class="nav-buttons">
                <a href="../../../index.html" class="nav-btn">
                    <i class="fas fa-arrow-left"></i>
                    <span>è¿”å›ä¸»çŸ¥è¯†åº“</span>
                </a>

                <a href="#" class="nav-btn" id="export-btn">
                    <i class="fas fa-download"></i>
                    <span>å¯¼å‡ºç›®å½•ç»“æ„</span>
                </a>
            </div>
        </div>
    </main>

    <script>
        // æ–‡ç« æ•°æ®ç®¡ç†
        let articles = JSON.parse(localStorage.getItem('automation-articles')) || [
        {
        id: 1,
        title: "PLCç¼–ç¨‹å…¥é—¨æŒ‡å—",
        description: "ä»é›¶å¼€å§‹å­¦ä¹ PLCæ¢¯å½¢å›¾ç¼–ç¨‹ï¼ŒæŒæ¡å·¥ä¸šè‡ªåŠ¨åŒ–æ§åˆ¶çš„æ ¸å¿ƒæŠ€èƒ½ã€‚",
        icon: "fa-microchip",
        filename: "plc-basics.html",
        readTime: "15åˆ†é’Ÿ",
        lastUpdate: "2024.01.20"
        },
        {
        id: 2,
        title: "ä¼ æ„Ÿå™¨å·¥ä½œåŸç†è¯¦è§£",
        description: "æ·±å…¥è§£æå„ç±»å·¥ä¸šä¼ æ„Ÿå™¨çš„åŸç†ã€é€‰å‹å’Œåº”ç”¨åœºæ™¯ã€‚",
        icon: "fa-bolt",
        filename: "sensor-principles.html",
        readTime: "12åˆ†é’Ÿ",
        lastUpdate: "2024.01.18"
        },
        {
        id: 3,
        title: "ç”µæœºæ§åˆ¶åŸºç¡€",
        description: "å­¦ä¹ ç›´æµç”µæœºã€æ­¥è¿›ç”µæœºã€ä¼ºæœç”µæœºçš„æ§åˆ¶åŸç†å’Œæ–¹æ³•ã€‚",
        icon: "fa-cogs",
        filename: "motor-control.html",
        readTime: "18åˆ†é’Ÿ",
        lastUpdate: "2024.01.15"
        }
        ];

        // æ¸²æŸ“æ–‡ç« åˆ—è¡¨
        function renderArticles() {
        const container = document.getElementById('articles-container');
        const emptyState = document.getElementById('empty-state');

        if (articles.length === 0) {
        container.style.display = 'none';
        emptyState.style.display = 'block';
        return;
        }

        container.style.display = 'grid';
        emptyState.style.display = 'none';

        container.innerHTML = articles.map(article => `
        <a href="${article.filename}" class="article-card" data-id="${article.id}">
        <div class="article-icon">
        <i class="fas ${article.icon}"></i>
        </div>
        <h3>${article.title}</h3>
        <p>${article.description}</p>
        <div class="article-meta">
        <span>ğŸ“– é˜…è¯»æ—¶é—´: ${article.readTime}</span>
        <span>ğŸ”„ æœ€åæ›´æ–°: ${article.lastUpdate}</span>
        </div>
        <div class="article-actions" style="margin-top: 10px;">
        <button class="delete-btn" onclick="deleteArticle(${article.id}); event.stopPropagation();"
        style="background: #ef4444; color: white; border: none; padding: 5px 10px; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">
        <i class="fas fa-trash"></i> åˆ é™¤
        </button>
        </div>
        </a>
        `).join('');

        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem('automation-articles', JSON.stringify(articles));
        }

        // æ·»åŠ æ–°æ–‡ç« 
        document.getElementById('add-article-btn').addEventListener('click', function() {
        const title = document.getElementById('article-title').value.trim();
        const desc = document.getElementById('article-desc').value.trim();
        const icon = document.getElementById('article-icon').value;

        if (!title || !desc) {
        alert('è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜å’Œæè¿°');
        return;
        }

        // ç”Ÿæˆæ–‡ä»¶åï¼ˆå°†ä¸­æ–‡æ ‡é¢˜è½¬æ¢ä¸ºæ‹¼éŸ³æˆ–ä½¿ç”¨æ—¶é—´æˆ³ï¼‰
        const timestamp = new Date().getTime();
        const filename = `article-${timestamp}.html`;

        // åˆ›å»ºæ–°æ–‡ç« å¯¹è±¡
        const newArticle = {
        id: articles.length + 1,
        title: title,
        description: desc,
        icon: icon,
        filename: filename,
        readTime: "10åˆ†é’Ÿ", // é»˜è®¤å€¼
        lastUpdate: new Date().toLocaleDateString('zh-CN', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit'
        }).replace(/\//g, '.')
        };

        articles.push(newArticle);
        renderArticles();

        // åˆ›å»ºå¯¹åº”çš„HTMLæ–‡ä»¶
        createArticleFile(filename, title, desc, icon);

        // æ¸…ç©ºè¡¨å•
        document.getElementById('article-title').value = '';
        document.getElementById('article-desc').value = '';

        alert('æ–‡ç« æ·»åŠ æˆåŠŸï¼');
        });

        // åˆ›å»ºæ–‡ç« HTMLæ–‡ä»¶
        function createArticleFile(filename, title, description, icon) {
        const template = `
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${title} | è‡ªåŠ¨åŒ–åŸºç¡€çŸ¥è¯†</title>
        <link rel="stylesheet" href="../../../style.css">
        <style>
        .article-page { max-width: 800px; margin: 40px auto; padding: 30px; }
        h1 { color: #3b82f6; }
        .back-link { display: inline-block; margin-top: 30px; padding: 10px 20px; background: #3b82f6; color: white; text-decoration: none; }
        </style>
        </head>
        <body>
        <div class="article-page">
        <h1>${title}</h1>
        <p>${description}</p>
        <p>è¿™é‡Œæ˜¯æ–‡ç« å†…å®¹...ï¼ˆä½ å¯ä»¥ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶æ·»åŠ è¯¦ç»†å†…å®¹ï¼‰</p>
        <a href="index.html" class="back-link">â† è¿”å›ç›®å½•</a>
        </div>
        </body>
        </html>`;

        // åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œéœ€è¦å°†æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨
        // å¯¹äºé™æ€ç½‘ç«™ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›ä¸‹è½½é“¾æ¥æˆ–æ‰‹åŠ¨åˆ›å»º
        console.log(`éœ€è¦åˆ›å»ºæ–‡ä»¶: ${filename}`);
        console.log('æ–‡ä»¶å†…å®¹:', template);

        // æç¤ºç”¨æˆ·æ‰‹åŠ¨åˆ›å»º
        alert(`è¯·æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶: articles/automation/basic-knowledge/${filename}\n\nå·²å¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿`);

        // å°†å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿
        navigator.clipboard.writeText(template);
        }

        // åˆ é™¤æ–‡ç« 
        function deleteArticle(id) {
        if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿ')) {
        articles = articles.filter(article => article.id !== id);
        renderArticles();
        }
        }

        // å¯¼å‡ºç›®å½•ç»“æ„
        document.getElementById('export-btn').addEventListener('click', function(e) {
        e.preventDefault();
        const dataStr = JSON.stringify(articles, null, 2);
        const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);

        const exportFileDefaultName = 'è‡ªåŠ¨åŒ–çŸ¥è¯†ç›®å½•.json';

        const linkElement = document.createElement('a');
        linkElement.setAttribute('href', dataUri);
        linkElement.setAttribute('download', exportFileDefaultName);
        linkElement.click();
        });

        // é¡µé¢åŠ è½½æ—¶æ¸²æŸ“æ–‡ç« 
        document.addEventListener('DOMContentLoaded', renderArticles);
    </script>
</body>
</html>